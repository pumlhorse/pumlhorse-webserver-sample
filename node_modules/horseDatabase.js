pumlhorse.module("horseDatabase")
    .function("list", listHorses)
    .function("get", getHorse)
    .function("add", ["@", addHorse], { passAsObject: true});

var horseArray = require("../data/horses.json")

function listHorses() {
    return horseArray
}

function getHorse(horseName) {
    var scope = this
    return scope.$_.findWhere(horseArray, {name: horseName})
}

function addHorse(horse) {
    horseArray.push(horse)
}